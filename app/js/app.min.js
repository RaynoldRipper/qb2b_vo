var render;function fadeDelete(e,t){t.style.transition="all ."+e+"s",t.style.opacity="0",setTimeout(()=>{t.style.display="none",t.remove()},e)}function hide(e,t){t.style.transition="all ."+e+"s",t.style.opacity="0",setTimeout(()=>{t.style.display="none"},e)}function show(e,t){t.style.display="block",setTimeout(()=>{t.style.transition="all ."+e+"s",t.style.opacity="1"},1)}function onClickClose(e){document.addEventListener("click",(function t(n){if(!e.contains(n.target)&&isVisible(e)&&1==render){if(fadeDelete(500,e),document.removeEventListener("click",t),render=0,document.querySelector(".three-dots__btn")){document.querySelector(".three-dots__btn").classList.toggle("active")}}else render=1}))}function isVisible(e){return!!e&&!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function moreBtn(e){if(document.querySelector(".poop")){event.preventDefault(),fadeDelete(500,document.querySelector(".poop")),e.classList.remove("active")}else if(event.preventDefault(),e.classList.toggle("active"),console.log(e),e.closest(".company__documents-item")){let t='<div class="poop">\n                    <h2 class="text-5 wrapper-title pb-1">Действие</h2>\n                    <div class="poop__buttons">\n                        <a href="#" class="poop__btn text-3 poop__btn--success">Скачать файл</a>\n                        <a href="#" class="poop__btn text-3 poop__btn--warninig">Удалить</a>\n                    </div>\n                </div>';e.closest(".company__documents-item").insertAdjacentHTML("beforeend",t);let n=document.querySelector(".poop");1!==render?onClickClose(n):0===render&&fadeDelete(500,n),show(500,n)}}document.addEventListener("DOMContentLoaded",(function(){let e=document.querySelector(".menu"),t=document.querySelector(".menu__list"),n=document.querySelector(".settings"),l=document.querySelector(".settings__window");if(e.addEventListener("click",(function(){e.classList.toggle("active"),t.classList.toggle("active")})),n.addEventListener("click",(function(){n.classList.toggle("active"),l.classList.toggle("active")})),document.querySelector(".line-form")){let e=document.querySelector(".line-form");document.querySelectorAll(".line-form__field");e.querySelectorAll("input[type=text]").forEach(e=>{e.addEventListener("focus",e=>{e.target.closest(".line-form__field").classList.add("field-focus")}),e.addEventListener("blur",e=>{e.target.closest(".line-form__field").classList.remove("field-focus")}),e.addEventListener("input",t=>{let n=e.closest(".line-form__field");e.value.length>0?n.classList.add("line-form__field--filled"):e.value.length<=0&&n.classList.remove("line-form__field--filled")})})}if(document.querySelector("input[type=text], input[type=number], input[type=tel]")&&!document.querySelector(".line-form")){document.querySelectorAll("input[type=text], input[type=number], input[type=tel], textarea").forEach(e=>{e.addEventListener("input",(function(){var t;e.classList.contains("custom-form__input")?t=".custom-form__input-wrapper":e.classList.contains("custom__text-input")&&(t=".custom__text"),!e.closest(t).classList.contains("input__filled")&&e.value.length>=1?e.closest(t).classList.add("input__filled"):e.value.length<=0&&e.closest(t).classList.remove("input__filled")}))})}if(document.querySelector("input[type=range]")){let e=document.querySelectorAll("input[type=range]"),t=["webkit-slider-runnable","moz-range"],n=[],l=t.length,i=e.length,s=function(e,n){let i="",s=e.min||0,o=(e.max?~~(100*(e.value-s)/(e.max-s)):e.value)+"% 100%";e.previousElementSibling.querySelector(".range__count").textContent=e.value,e.previousElementSibling.querySelector(".range__total").classList.contains("hide")||(e.previousElementSibling.querySelector(".range__total").classList.add("hide"),e.previousElementSibling.querySelector(".range__count").classList.add("active")),e.value<=0&&(e.previousElementSibling.querySelector(".range__total").classList.remove("hide"),e.previousElementSibling.querySelector(".range__count").classList.remove("active"));for(let e=0;e<l;e++)i+="input[type=range][data-rangeId='"+n+"']::-"+t[e]+"-track{background-size:"+o+"} ";return i},o=function(e){let t=s(e.target,this);n[this].textContent=t};for(let t=0;t<i;t++){let l=document.createElement("style");document.body.appendChild(l),n.push(l),e[t].setAttribute("data-rangeId",t),e[t].addEventListener("input",o.bind(t))}e.forEach(e=>{e.addEventListener("input",(function(){let t=e.previousElementSibling.querySelector(".range__count"),n=this.scrollHeight,l=n/2+(this.valueAsNumber-parseInt(this.min))*(this.scrollWidth-n)/(parseInt(this.max)-parseInt(this.min));t.style.left=l-t.offsetWidth/2+"px",this.value>0?this.classList.add("active"):this.classList.remove("active")}))})}if(document.querySelector(".main-table__btn-wrapper .btn")){document.querySelectorAll(".main-table__btn-wrapper .btn").forEach(e=>{document.addEventListener("click",t=>{t.target==e&&e.closest(".main-table__btn-wrapper").classList.toggle("active"),t.target!=e&&t.target!=e.closest(".main-table__btn-wrapper")&&t.target!=e.closest(".main-table__btn-wrapper").querySelector(".main-table__link")&&e.closest(".main-table__btn-wrapper").classList.remove("active")})})}if(document.querySelector(".task .custom-form input")){let e=document.querySelector(".custom-form").querySelector("#task-files"),t=document.querySelector(".custom-form__file-list");const n=new DataTransfer;n.items.add(new File([],"a.txt")),e.files=n.files,e.addEventListener("change",n=>{const l=new DataTransfer;t.innerHTML="";for(let n=0;n<e.files.length;n++){let i=e.files[n];l.items.add(i);let s='<div class="custom-form__file-item">'+i.name+'<a class="custom-form__file-delete" data-number='+n+">x</a></div>";t.insertAdjacentHTML("beforeend",s)}e.onchange=null,e.files=l.files,document.querySelector(".custom-form__file-item")&&document.querySelectorAll(".custom-form__file-delete").forEach(t=>{t.addEventListener("click",(function(n){const l=new DataTransfer;for(let n=0;n<e.files.length;n++)if(n!=t.dataset.number){let t=e.files[n];l.items.add(t)}e.onchange=null,e.files=l.files,fadeDelete(500,t.closest(".custom-form__file-item"))}))})})}if(document.querySelector(".main-table__rating-item")){let e=document.querySelectorAll(".main-table__rating-item");for(let t=0;t<e.length;t++){var i;let n=e[t];n.addEventListener("mouseover",()=>{n.dataset.rating<3?i="main-table__rating-item--low":3==n.dataset.rating?i="main-table__rating-item--medium":n.dataset.rating>3&&(i="main-table__rating-item--high"),n.closest(".main-table__row ").querySelectorAll(".main-table__rating-item").forEach(e=>{e.dataset.rating<=n.dataset.rating&&e.classList.add(i)})}),n.addEventListener("mouseout",()=>{e.forEach(e=>{e.dataset.rating<=n.dataset.rating&&e.classList.remove(i)})})}}$((function(){$('[data-toggle="popover"]').popover()}))}));